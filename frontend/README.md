# Monster Agency（暂定名）
## 游戏设计文档 v0.1

---

## 一、游戏定位

- 类型：  
  捕捉 + 战斗 + 经营 + 制作 + 挂机 的混合玩法

- 平台：  
  纯前端（Web），支持在线 / 离线挂机

- 核心体验：  
  - 主力妖兽参与主动战斗与推进地图  
  - 多余妖兽参与挂机、经营、生产  
  - 物品同时服务于战斗与经济系统  
  - 任务系统驱动资源流动与玩法节奏

---

## 二、核心系统概览

### 1. 妖兽系统（Monster）

妖兽是游戏的核心单位，承担以下角色：

- 战斗（主动 / 挂机）
- 店铺经营
- 生产与制作
- 资源消耗与成长

#### 妖兽基本属性（暂定）
- 等级
- 品质 / 稀有度
- 类型 / 标签（地图、功能相关）
- 状态（空闲 / 战斗 / 挂机 / 经营 / 制作）

#### 妖兽分工原则
- **主力妖兽**：  
  用于主动战斗、Boss挑战、地图推进
- **冗余妖兽**：  
  分配至挂机、店铺、制作等系统

---

## 三、地图系统（Map）

### 地图规则
- 游戏包含多个地图
- 每个地图拥有 **本地限定妖兽池**
- 妖兽只能在其所属地图：
  - 进行战斗
  - 进行挂机

### 地图限制
- 不允许跨地图战斗或挂机
- 更换地图需要：
  - 重新配置战斗妖兽
  - 重新配置挂机阵容

### 不受地图限制的系统
- 店铺经营
- 物品制作
- 物品销售

---

## 四、战斗系统

### 战斗类型一：主动战斗
- 玩家手动操作
- 发生在地图探索中
- 包含：
  - 捕捉妖兽
  - 挑战普通敌人
  - 挑战首领（Boss）

用途：
- 推进主线
- 获取新妖兽
- 解锁地图与内容

---

### 战斗类型二：挂机战斗
- 可同时在线 / 离线进行
- 基于时间结算收益
- 发生在指定地图
- 使用当前地图的妖兽

挂机产出：
- 材料
- 基础物品
- 经验 / 金币（暂定）

---

## 五、经营系统（Store）

### 店铺规则
- 所有妖兽均可参与（不受地图限制）
- 妖兽被分配到店铺后：
  - 无法参与战斗或挂机
  - 提供经营加成或产出

### 店铺功能
- 出售制作物品
- 接收支线任务交付
- 作为经济系统的主要金币来源

---

## 六、制作系统（Crafting）

### 制作来源
- 挂机产出的材料
- 战斗掉落的材料

### 制作物品用途
- **战斗用途**
  - 消耗型道具
  - 强化战斗能力
- **经济用途**
  - 用于店铺销售
  - 用于完成支线任务

制作系统的目标是：
> 让“战斗资源”与“经济收益”共享同一条物品链路

---

## 七、任务系统

### 任务系统一：主线任务
- 不限时间
- 主要作用：
  - 推进剧情
  - 解锁地图
  - 解锁新系统

特征：
- 线性或半线性
- 引导玩家理解玩法

---

### 任务系统二：支线任务
- 随机生成
- 有时间限制
- 要求交付指定物品

奖励：
- 高额金币
- 稀有材料
- 特殊道具（暂定）

作用：
- 拉动制作系统
- 制造时间压力
- 提供高风险高回报选择

---

## 八、系统循环关系（简述）

1. 主动战斗 → 捕捉妖兽 / 解锁地图
2. 妖兽分工 → 战斗 / 挂机 / 经营 / 制作
3. 挂机 → 产出材料
4. 制作 → 战斗物品 / 经济物品
5. 支线任务 → 消耗物品 → 获取高收益
6. 收益 → 强化战斗 → 推进主线

---

## 九、当前未定内容（待讨论）

- 妖兽成长方式（线性 / 分支）
- 挂机结算频率与离线规则
- 店铺经营是数值驱动还是事件驱动
- 战斗系统的复杂度（偏操作 / 偏数值）

---

## 十、设计原则（临时）

- 系统服务于循环，而非彼此堆叠
- 妖兽必须“有去处”，不能闲置无意义
- 所有资源至少有两种用途

---

## 十一、系统设计总览（更新）

### 系统列表
1. 妖兽系统（Monster System）
2. 战斗系统（Combat System）
   - 主动战斗
   - 挂机战斗
3. 地图系统（Map System）
4. 任务系统（Quest System）
   - 主线任务
   - 支线任务
5. 经济系统（Economy System）
6. 制作系统（Crafting System）
7. 店铺 / 经营系统（Management System）
8. 时间系统（Time System）
9. 事件系统（Event System）
10. 解锁与进度系统（Progression System）
11. 背包系统（Inventory System）
12. 成就系统（Achievement System）

---

## 十二、系统分级（重要）

### 一级核心系统
- 妖兽系统
- 战斗系统
- 经济系统
- 制作系统

### 一级支撑系统
- 地图系统
- 任务系统
- 背包系统
- 时间系统

### 二级 / 三级系统
- 店铺系统
- 解锁与进度系统
- 事件系统
- 成就系统

---

## 十四、妖兽系统（Monster System）

### 设计目标
- 数据驱动
- 可长期扩展
- 新增妖兽不修改逻辑代码

---

### 妖兽结构分层

#### 妖兽模板（Monster Template）
- 图鉴编号
- 名称
- 种族
- 稀有度
- 基础立绘 / 动画
- 基础成长曲线
- 技能池
- 词条池

#### 妖兽实例（Monster Instance）
- 模板ID
- 是否闪光
- 等级 / 经验
- 普通星阶 / 闪光星阶
- 当前技能
- 当前装备
- 当前词条
- 当前状态

---

### 战斗维度
- 战斗属性
- 战斗技能
- 战斗词条
- 战力评分（估算值）

---

### 劳动维度
- 各项劳动值
- 劳动词条
- 劳动评分（估算值）

---

### 合成与重复获取
- 同一妖兽可重复获取
- 重复妖兽用于合成
- 合成用于提升星阶或上限
- 阵容中禁止上阵相同妖兽模板

---

## 十五、战斗系统（Combat System）

### 设计参考
- 时间轴驱动战斗模型
- 阵容为队列结构
- 行动消耗时间资源

---

### 战斗类型
- 主动战斗（玩家操作）
- 挂机战斗（简化模型，后续定义）

---

### 阵容规则
- 战斗双方均为固定长度队列
- 仅队列前端妖兽可行动
- 死亡后队列自动前移

---

### 时间轴规则
- 每个妖兽拥有当前时间值
- 当前时间最小者获得行动权
- 行动后增加对应时间消耗

---

### 行动与技能
- 每次行动消耗时间
- 技能定义行为效果与时间成本
- 技能不追求复杂连锁

---

### 状态系统
- 状态可影响时间、行动、顺序
- 状态具有持续时间或触发条件

---

### 战斗系统约束
- 不处理成长与强化
- 不修改妖兽模板
- 仅基于当前战斗数据结算结果

---

## 十六、地图系统（Map System）

### 世界观设定
- 玩家携带炼妖壶穿越不同世界
- 每个世界拥有独立地图风格与规则

---

### 世界（World）
- 世界ID
- 世界主题
- 世界规则集
- 妖兽分布池
- 可用地图列表

---

### 地图（Map）
- 地图ID
- 所属世界
- 地图Tile数据
- 建筑与不可通行区域
- 交互点列表

---

### 探索规则
- 玩家以2D平面方式移动
- 地图碰撞基于Tile判定
- 特定Tile可触发事件

---

### 遭遇系统
- 随机遭遇（草地触发）
- 明示遭遇（地图实体）
- 遭遇内容由地图妖兽池决定

---

### 地图事件
- 训练家拦路（强制战斗）
- 剧情触发点
- 世界解锁条件

---

### 系统约束
- 地图系统不处理战斗逻辑
- 地图系统不修改妖兽成长
- 世界规则仅在所属世界生效
